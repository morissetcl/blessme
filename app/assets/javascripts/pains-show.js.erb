$(document).ready(function() {
  $(".pray-link-write").on("click", function(e){
    $(".form-for-audio-pray").addClass("hidden");
    $("#candle").addClass("hidden");
    $(".container-prayer").toggleClass("hidden");
    var n = $(document).height();
    $('html, body').animate({ scrollTop: 0 }, 'slow');
  });
});

$(document).ready(function() {
  $(".pray-link-record").on("click", function(e){
    $(".container-prayer").addClass("hidden");
    $("#candle").addClass("hidden");
    $(".form-for-audio-pray").toggleClass("hidden");
    var n = $(document).height();
    $('html, body').animate({ scrollTop: 0 }, 'slow');
  });
});

$(document).ready(function() {
  $(".delete-link").on('click', function(e){
    $(".container-prayer").toggleClass("hidden");
  });
});

$(document).ready(function() {
  $(".pray-link-thought").on("click", function(e){
    $(".container-prayer").addClass("hidden");
    $(".form-for-audio-pray").addClass("hidden");
    $("#candle").toggleClass("hidden");
    $(".navbar-blessme").addClass("hidden");
    $(".prayers-container").addClass("hidden");
    $(".footer").addClass("hidden");

    var id = $(this).data("id");
    var n = $(document).height();
    $('html, body').animate({ scrollTop: n }, 'slow');

    $.ajax({
      type: 'POST',
      url: '/pains/' + id + '/upvote',
    });

    setTimeout(function() {
      window.location.pathname = url;
      $("#prayer-candle").fadeOut(300);
    }, 10000);
  });
});

$(document).ready(function() {
  $(".signaler").on("click", function(e){
   var id = $(this).data("id");
   swal({
        title: 'Signalement',
        text: "Voulez-vous signaler cette demande ?",
        type: 'question',
        showCancelButton: true,
        confirmButtonColor: '#B56969',
        cancelButtonColor: '#B4D8C0',
        confirmButtonText: 'Oui',
        cancelButtonText: 'Non'
      }, function() {
        $.ajax({
          type: 'POST',
          url: '/pains/' + id + '/report',
        });
    });
  });

  $(".fa-trash").on("click", function(e){
   var id_prayer = $(this).data("id");
   swal ({
        title: 'Effacer',
        text: "Voulez-vous supprimer cette pri√®re ?",
        type: 'question',
        showCancelButton: true,
        confirmButtonColor: '#B56969',
        cancelButtonColor: '#B4D8C0',
        confirmButtonText: 'Oui',
        cancelButtonText: 'Non'
      }, function() {
        $.ajax({
          type: 'DELETE',
          url: '/pains/' + id + '/prayers/' + id_prayer,
        });
    });
  });
});
